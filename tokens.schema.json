{
  "$schema": "http://json-schema.org/draft-07/schema",
  "type": "object",
  "required": [
    "shared"
  ],
  "definitions": {
    "twitter": {
      "type": "object",
      "description": "Twitterのアクセストークンです。指定しなかった場合配信は行われません。",
      "additionalProperties": false,
      "required": [
        "consumer_key",
        "consumer_secret",
        "access_token",
        "access_token_secret"
      ],
      "properties": {
        "consumer_key": {
          "type": "string"
        },
        "consumer_secret": {
          "type": "string"
        },
        "access_token": {
          "type": "string"
        },
        "access_token_secret": {
          "type": "string"
        }
      }
    },
    "line": {
      "type": "object",
      "description": "LINEのアクセストークンです。指定しなかった場合配信は行われません。",
      "additionalProperties": false,
      "required": [
        "channel_token"
      ],
      "properties": {
        "channel_token": {
          "type": "string"
        }
      }
    },
    "token_options": {
      "enum": [
        "use_shared"
      ]
    },
    "token_set": {
      "properties": {
        "twitter": {
          "oneOf": [
            {
              "$ref": "#/definitions/twitter"
            },
            {
              "$ref": "#/definitions/token_options"
            }
          ],
          "default": null
        },
        "line": {
          "oneOf": [
            {
              "$ref": "#/definitions/line"
            },
            {
              "$ref": "#/definitions/token_options"
            }
          ],
          "default": null
        }
      }
    }
  },
  "properties": {
    "shared": {
      "type": "object",
      "description": "共有用のトークンです。設定されている場合、こちらのトークンを使用します。",
      "$ref": "#/definitions/token_set"
    }
  },
  "additionalProperties": {
    "type": "object",
    "description": "それぞれのトークンです。学校名はクラスで設定した名前と一致させる必要があります。",
    "$ref": "#/definitions/token_set"
  }
}
